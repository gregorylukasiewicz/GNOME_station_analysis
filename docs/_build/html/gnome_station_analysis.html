
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>gnome_station_analysis package &#8212; gnome_station_analysis 1.0 documentation</title>
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="gnome_station_analysis" href="modules.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="gnome_station_analysis"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">gnome_station_analysis 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" accesskey="U">gnome_station_analysis</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">gnome_station_analysis package</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="gnome-station-analysis-package">
<h1>gnome_station_analysis package<a class="headerlink" href="#gnome-station-analysis-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="module-gnome_station_analysis.fit">
<span id="gnome-station-analysis-fit-module"></span><h2>gnome_station_analysis.fit module<a class="headerlink" href="#module-gnome_station_analysis.fit" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="gnome_station_analysis.fit.complex_lorentz">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.fit.</span></code><code class="sig-name descname"><span class="pre">complex_lorentz</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.fit.complex_lorentz" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting functions.lorentz_functions() to the given data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> (<em>array like</em>) – frequency scale in Hz (from measurement)</p></li>
<li><p><strong>sig</strong> (<em>complex array like</em>) – complex lorentzian signal (from measurement)</p></li>
<li><p><strong>phi</strong> (<em>float</em>) – initial guess for phase (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>popt, pcov</strong> – popt = [f0_fit, A_fit, gamma_fit, phi_fit] and covariance matrix pcov</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>arrays</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Initial conditions are given by fit.guess_initial().</p>
<p>To obtain the error of a chosen parameter popt[i] please use np.sqrt(pcov[i][i]).</p>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.fit.complex_lorentz_lin_back">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.fit.</span></code><code class="sig-name descname"><span class="pre">complex_lorentz_lin_back</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.fit.complex_lorentz_lin_back" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting functions.complex_lorentz_lin_back() to the data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> (<em>array like</em>) – frequency scale in Hz (from measurement)</p></li>
<li><p><strong>sig</strong> (<em>complex array like</em>) – complex lorentzian signal (from measurement)</p></li>
<li><p><strong>phi</strong> (<em>float</em>) – initial guess for phase (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>popt, pcov</strong> – popt = [f0_fit, A_fit, gamma_fit, phi_fit, a_real_fit, b_real_fit, a_imag_fit, b_imag_fit] and covariance matrix pcov</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>arrays</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Initial conditions are given by fit.guess_initial().</p>
<p>To obtain the error of a chosen parameter popt[i] please use np.sqrt(pcov[i][i]).</p>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.fit.guess_initial">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.fit.</span></code><code class="sig-name descname"><span class="pre">guess_initial</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.fit.guess_initial" title="Permalink to this definition">¶</a></dt>
<dd><p>Guessing initial parameters for fitting complex lorentzian function to the given data set.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> (<em>array like</em>) – frequency scale in Hz (from measurement)</p></li>
<li><p><strong>sig</strong> (<em>complex array like</em>) – complex lorentzian signal (from measurement)</p></li>
<li><p><strong>phi</strong> (<em>float</em>) – initial guess for phase (optional)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>p0</strong> – [f0_guess, A_guess, gamma_guess, phi_guess] - table of initial parameters for fitting functions.complex_lorentz() and functions.complex_lorentz_lin_back() to ‘freq’ and ‘sig’ data set.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The method is used in fit.complex_lorentz() and fit.complex_lorentz_lin_back().
Please look at the code to understand the method. Note that it works correctly only for a good quality measurements (for example the lorentzian peak must be the largest value of the data set).</p>
</dd></dl>

</div>
<div class="section" id="module-gnome_station_analysis.functions">
<span id="gnome-station-analysis-functions-module"></span><h2>gnome_station_analysis.functions module<a class="headerlink" href="#module-gnome_station_analysis.functions" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="gnome_station_analysis.functions.complex_lorentz">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.functions.</span></code><code class="sig-name descname"><span class="pre">complex_lorentz</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.functions.complex_lorentz" title="Permalink to this definition">¶</a></dt>
<dd><p>Complex lorentzian function</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>array_like</em>) – frequency</p></li>
<li><p><strong>f0</strong> (<em>float</em>) – resonant frequency</p></li>
<li><p><strong>A</strong> (<em>float</em>) – scaling factor</p></li>
<li><p><strong>gamma</strong> (<em>float</em>) – <span class="math notranslate nohighlight">\(\gamma\)</span> – full width at half maximum (FWHM)</p></li>
<li><p><strong>phi</strong> (<em>float</em>) – <span class="math notranslate nohighlight">\(\phi\)</span> – phase</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>value</strong> – complex lorentzian</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>complex float or array</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Used formula</p>
<div class="math notranslate nohighlight">
\[Ae^{i\phi}\frac{\gamma - i(f-f_0)}{\gamma^2 + (f-f_0)^2}\]</div>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.functions.complex_lorentz_lin_back">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.functions.</span></code><code class="sig-name descname"><span class="pre">complex_lorentz_lin_back</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_real</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_real</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_imag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_imag</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.functions.complex_lorentz_lin_back" title="Permalink to this definition">¶</a></dt>
<dd><p>Complex lorentzian function with complex linear background</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<em>float</em><em> or </em><em>array_like</em>) – frequency</p></li>
<li><p><strong>f0</strong> (<em>float</em>) – resonant frequency</p></li>
<li><p><strong>A</strong> (<em>float</em>) – scaling factor</p></li>
<li><p><strong>gamma</strong> (<em>float</em>) – <span class="math notranslate nohighlight">\(\gamma\)</span> – full width at half maximum (FWHM)</p></li>
<li><p><strong>phi</strong> (<em>float</em>) – <span class="math notranslate nohighlight">\(\phi\)</span> – phase</p></li>
<li><p><strong>a_real</strong> (<em>float</em>) – real slope</p></li>
<li><p><strong>b_real</strong> (<em>float</em>) – real intersection</p></li>
<li><p><strong>a_imag</strong> (<em>float</em>) – imaginary slope</p></li>
<li><p><strong>b_imag</strong> (<em>float</em>) – imaginary intersection</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>value</strong> – complex lorentzian with complex linear background</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>complex float or array</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Used formula</p>
<div class="math notranslate nohighlight">
\[Ae^{i\phi}\frac{\gamma - i(f-f_0)}{\gamma^2 + (f-f_0)^2} + (a_{imag}+a_{real})f + (b_{imag} + b_{real})\]</div>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.functions.vec_model">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.functions.</span></code><code class="sig-name descname"><span class="pre">vec_model</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.functions.vec_model" title="Permalink to this definition">¶</a></dt>
<dd><p>Vector model for complex lorentzian function (complex_lorentz)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> (<em>array_like</em>) – frequency</p></li>
<li><p><strong>f0</strong> (<em>float</em>) – resonant frequency</p></li>
<li><p><strong>A</strong> (<em>float</em>) – scaling factor</p></li>
<li><p><strong>gamma</strong> (<em>float</em>) – <span class="math notranslate nohighlight">\(\gamma\)</span> – full width at half maximum (FWHM)</p></li>
<li><p><strong>phi</strong> (<em>float</em>) – <span class="math notranslate nohighlight">\(\phi\)</span> – phase</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vec_model</strong> – length(vec_model) = 2*length(freq)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.functions.vec_model_lin_back">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.functions.</span></code><code class="sig-name descname"><span class="pre">vec_model_lin_back</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">freq</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">f0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">A</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gamma</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">phi</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_real</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_real</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a_imag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b_imag</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.functions.vec_model_lin_back" title="Permalink to this definition">¶</a></dt>
<dd><p>Vector model for complex lorentzian function with complex linear background (complex_lorentz_lin_back)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>freq</strong> (<em>float</em><em> or </em><em>array_like</em>) – frequency</p></li>
<li><p><strong>f0</strong> (<em>float</em>) – resonant frequency</p></li>
<li><p><strong>A</strong> (<em>float</em>) – scaling factor</p></li>
<li><p><strong>gamma</strong> (<em>float</em>) – <span class="math notranslate nohighlight">\(\gamma\)</span> – full width at half maximum (FWHM)</p></li>
<li><p><strong>phi</strong> (<em>float</em>) – <span class="math notranslate nohighlight">\(\phi\)</span> – phase</p></li>
<li><p><strong>a_real</strong> (<em>float</em>) – real slope</p></li>
<li><p><strong>b_real</strong> (<em>float</em>) – real intersection</p></li>
<li><p><strong>a_imag</strong> (<em>float</em>) – imaginary slope</p></li>
<li><p><strong>b_imag</strong> (<em>float</em>) – imaginary intersection</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>vector_model</strong> – length(vec_model) = 2*length(freq)</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-gnome_station_analysis.read">
<span id="gnome-station-analysis-read-module"></span><h2>gnome_station_analysis.read module<a class="headerlink" href="#module-gnome_station_analysis.read" title="Permalink to this headline">¶</a></h2>
<dl class="py function">
<dt id="gnome_station_analysis.read.all_currents">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.read.</span></code><code class="sig-name descname"><span class="pre">all_currents</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.read.all_currents" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all currents saved in file names in a given direcotory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>directory</strong> (<em>string</em>) – </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>currs</strong> – values of current in measurements saved in the given directory</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>numpy array</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.read.all_names">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.read.</span></code><code class="sig-name descname"><span class="pre">all_names</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.read.all_names" title="Permalink to this definition">¶</a></dt>
<dd><p>Finding all .dat files in a given directory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>directory</strong> (<em>string</em>) – path to a direcotry with a series of measurement files</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>file_names</strong> – all .dat files in a given directory</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of strings</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.read.all_names_currents">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.read.</span></code><code class="sig-name descname"><span class="pre">all_names_currents</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.read.all_names_currents" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads all file_names and currents saved in file names in a given direcotory</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>directory</strong> (<em>string</em>) – path to a direcotry with a series of measurements</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>file_names, currents</strong> – arrays sorted by rising current values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of strings, array of floats</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.read.comp_fft">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.read.</span></code><code class="sig-name descname"><span class="pre">comp_fft</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time_sig</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.read.comp_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes FFT of real signal in time domain</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>time</strong> (<em>array</em>) – time scale in s</p></li>
<li><p><strong>time_sig</strong> (<em>array of real floats</em>) – array of real-valued signal in time domain</p></li>
<li><p><strong>a</strong> (<em>int</em>) – element of the time array defining the beginning of the interval that is going to be used in FFT (optional)</p></li>
<li><p><strong>b</strong> (<em>int</em>) – element of the time array defining the end of the interval that is going to be used in FFT (optional)</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – minimal value of the returned frequency scale in Hz (optional)</p></li>
<li><p><strong>fmax</strong> (<em>float</em>) – <p>maximal value of the frequency scale in Hz (optional)</p>
<p>if fmax = 0 the maximal value of freq scale is taken (Nyquist frequency)</p>
</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>freq, sig</strong> – frequency scale (only positive values) in Hz and complex signal in frequency domain</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of floats, array of complex floats</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The function uses numpy.fft.rfft. Please read numpy documentation for more details.</p>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.read.current">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.read.</span></code><code class="sig-name descname"><span class="pre">current</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.read.current" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns current value saved in the file name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>string</em>) – single file path</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>curr</strong> – current value in uA</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>The file name must be ‘path…/name…Curr_iii_uA.dat’. The function reads ‘iii’ and returns the float value.</p>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.read.file">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.read.</span></code><code class="sig-name descname"><span class="pre">file</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">columns</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.read.file" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads selected columns in a chosen file</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>string</em>) – </p></li>
<li><p><strong>columns</strong> (<em>int</em><em> (</em><em>multiple</em><em>)</em>) – specifies wchich colums od data should be returned (beginning with 0!)</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>(columns)</strong> – columns of data listed in parameters after file_name</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list of arrays</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>&gt;time, Ch2 = gnome_station_analysis.read.file(“name”, 0, 2)</p>
<p>returns 2 arrays of data: time and signal in channel 2.</p>
<p>&gt;col = [0, 2, 3]</p>
<p>&gt;data = gnome_station_analysis.read.file(“name”, <a href="#id1"><span class="problematic" id="id2">*</span></a>col)</p>
<p>data[0] - 1st column of data</p>
<p>data[1] - 3rd column of data</p>
<p>data[2] - 4th column of data</p>
</dd></dl>

<dl class="py function">
<dt id="gnome_station_analysis.read.sort_by_current">
<code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.read.</span></code><code class="sig-name descname"><span class="pre">sort_by_current</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_names</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currents</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.read.sort_by_current" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts both arrays according to rising current value</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_names</strong> (<em>array of strings</em>) – table of file names</p></li>
<li><p><strong>currents</strong> (<em>array of floats</em>) – array of current values corresponding to file_names</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>file_names, currents</strong> – arrays sorted by rising current values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>array of strings, array of floats</p>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="module-gnome_station_analysis.resonances">
<span id="gnome-station-analysis-resonances-module"></span><h2>gnome_station_analysis.resonances module<a class="headerlink" href="#module-gnome_station_analysis.resonances" title="Permalink to this headline">¶</a></h2>
<dl class="py class">
<dt id="gnome_station_analysis.resonances.FID">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.resonances.</span></code><code class="sig-name descname"><span class="pre">FID</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.FID" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#gnome_station_analysis.resonances.resonance" title="gnome_station_analysis.resonances.resonance"><code class="xref py py-class docutils literal notranslate"><span class="pre">gnome_station_analysis.resonances.resonance</span></code></a></p>
<p>Reads FID data from the given file.
Fit to the measurement data isn’t run automatically. Please use fit method before getting parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>file_name</strong> (<em>string</em>) – path to file with measured resonance</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>FID class is child of resonance class, so all resonance methods are available here.</p>
<p>Important: before using fit method please run comp_fft!</p>
<dl class="py method">
<dt id="gnome_station_analysis.resonances.FID.comp_fft">
<code class="sig-name descname"><span class="pre">comp_fft</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">a</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">b</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmin</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.FID.comp_fft" title="Permalink to this definition">¶</a></dt>
<dd><p>Converting time signal (FID) into frequency domain complex lorentzian resonance.
This must be run before using fit method in FID class!</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>a</strong> (<em>int</em>) – element of the time array defining the beginning of the interval that is going to be used in FFT (optional)</p></li>
<li><p><strong>b</strong> (<em>int</em>) – element of the time array defining the end of the interval that is going to be used in FFT (optional)</p></li>
<li><p><strong>fmin</strong> (<em>float</em>) – minimal value of the frequency scale in Hz (optional)</p></li>
<li><p><strong>fmax</strong> (<em>float</em>) – <p>maximal value of the frequency scale in Hz (optional)</p>
<p>if fmax = 0 the maximal value of freq scale is taken (Nyquist frequency)</p>
</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.FID.fit_gap">
<code class="sig-name descname"><span class="pre">fit_gap</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.FID.fit_gap" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtains gap between two FIDs that are included in single file.
This is only for “step change” measurements (for example when obtaining compensation point).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>sig_gap</strong> – gap between the two FIDs</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Each FID in the given file must cover exactly half of the measurement points.</p>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.FID.get_sig_gap">
<code class="sig-name descname"><span class="pre">get_sig_gap</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.FID.get_sig_gap" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets signal gap if fit_gap method was previously used.
This is only for “step change” measurements (for example when obtaining compensation point).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>sig_gap</strong> – gap between the two FIDs</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.FID.plot_FID">
<code class="sig-name descname"><span class="pre">plot_FID</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.FID.plot_FID" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots FID signal in time domain.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt id="gnome_station_analysis.resonances.resonance">
<em class="property"><span class="pre">class</span> </em><code class="sig-prename descclassname"><span class="pre">gnome_station_analysis.resonances.</span></code><code class="sig-name descname"><span class="pre">resonance</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">linear_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">columns</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[0,</span> <span class="pre">1,</span> <span class="pre">2]</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Reads data from the given file. Fit to the measurement data isn’t run automatically. Please use fit method before using fit parameters.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_name</strong> (<em>string</em>) – path to file with measured resonance</p></li>
<li><p><strong>columns</strong> (<em>int</em><em> (</em><em>multiple</em><em>)</em>) – specifies 3 columns in the data file that include frequency, X and Y measurements</p></li>
<li><p><strong>linear_background</strong> (<em>bool</em>) – when true fit.complex_lorentz_lin_back() is used, when false - fit.complex_lorentz()</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.fit">
<code class="sig-name descname"><span class="pre">fit</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">linear_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fitting complex lorentzian function (with or without linear background).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>linear_background</strong> (<em>bool</em>) – when true fit.complex_lorentz_lin_back() is used, when false - fit.complex_lorentz()</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.get_current">
<code class="sig-name descname"><span class="pre">get_current</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.get_current" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets current from the name of the analyzed file.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>current</strong></p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.get_err">
<code class="sig-name descname"><span class="pre">get_err</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.get_err" title="Permalink to this definition">¶</a></dt>
<dd><p>Method returns i-th fit parameter’s error</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<em>int</em>) – number of the fit parameter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>err</strong> – square root of the diagonal element of covariance matrix pcov[i][i]</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Please see fit.complex_lorentz() or fit.complex_lorentz_lin_back() methods to obtain the order of parameters</p>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.get_f0">
<code class="sig-name descname"><span class="pre">get_f0</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.get_f0" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>f0</strong> – resonant frequency in Hz</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.get_f0_err">
<code class="sig-name descname"><span class="pre">get_f0_err</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.get_f0_err" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>f0_err</strong> – resonant frequency error in Hz</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.get_gamma">
<code class="sig-name descname"><span class="pre">get_gamma</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.get_gamma" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>gamma</strong> – resonance width in Hz</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.get_gamma_err">
<code class="sig-name descname"><span class="pre">get_gamma_err</span></code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.get_gamma_err" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p><strong>gamma_err</strong> – resonance width error in Hz</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>float</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.get_param">
<code class="sig-name descname"><span class="pre">get_param</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.get_param" title="Permalink to this definition">¶</a></dt>
<dd><p>Method returns i-th fit parameter</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>i</strong> (<em>int</em>) – number of the fit parameter</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>param</strong> – fit parameter</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>float</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<p>Please see fit.complex_lorentz() or fit.complex_lorentz_lin_back() methods to obtain the order of parameters</p>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.plot_abs">
<code class="sig-name descname"><span class="pre">plot_abs</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.plot_abs" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots absolute value of the resonance (measurement and fit function)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>plot_fit</strong> (<em>bool</em>) – True for plotting fitted function together with the measured data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.plot_imag">
<code class="sig-name descname"><span class="pre">plot_imag</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.plot_imag" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots imaginary part of the measured resonance and fitted function (if chosen).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>plot_fit</strong> (<em>bool</em>) – True for plotting fitted function together with the measured data.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt id="gnome_station_analysis.resonances.resonance.plot_real">
<code class="sig-name descname"><span class="pre">plot_real</span></code><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">plot_fit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#gnome_station_analysis.resonances.resonance.plot_real" title="Permalink to this definition">¶</a></dt>
<dd><p>Plots real part of the measured resonance and fitted function (if chosen).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>plot_fit</strong> (<em>bool</em>) – True for plotting fitted function together with the measured data (optional).</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<span class="target" id="module-gnome_station_analysis"></span></div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">gnome_station_analysis package</a><ul>
<li><a class="reference internal" href="#module-gnome_station_analysis.fit">gnome_station_analysis.fit module</a></li>
<li><a class="reference internal" href="#module-gnome_station_analysis.functions">gnome_station_analysis.functions module</a></li>
<li><a class="reference internal" href="#module-gnome_station_analysis.read">gnome_station_analysis.read module</a></li>
<li><a class="reference internal" href="#module-gnome_station_analysis.resonances">gnome_station_analysis.resonances module</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="modules.html"
                        title="previous chapter">gnome_station_analysis</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/gnome_station_analysis.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="modules.html" title="gnome_station_analysis"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">gnome_station_analysis 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="modules.html" >gnome_station_analysis</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">gnome_station_analysis package</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2021, GNOME team in Krakow.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.5.3.
    </div>
  </body>
</html>